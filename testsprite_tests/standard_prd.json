{
  "meta": {
    "project": "Bistrot Gestionale",
    "date": "2025-09-29",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Bistrot Gestionale è un sistema completo di gestione prenotazioni per bistrot e ristoranti, che permette ai clienti di prenotare tavoli facilmente e agli amministratori di gestire menu, prenotazioni e configurazioni locali tramite un'interfaccia web moderna e responsive.",
  "core_goals": [
    "Fornire un sistema di prenotazione tavoli semplice e intuitivo per i clienti",
    "Consentire agli amministratori di gestire menu, prenotazioni e utenti in modo efficiente e centralizzato",
    "Garantire la sicurezza e l'affidabilità tramite autenticazione JWT e gestione ruoli",
    "Offrire un'interfaccia utente responsive per dispositivi mobili e desktop",
    "Supportare report e statistiche per il monitoraggio delle attività del bistrot"
  ],
  "key_features": [
    "Autenticazione completa con registrazione, login, logout e gestione profilo",
    "Dashboard utente per visualizzare e gestire le prenotazioni personali",
    "Sistema di prenotazione con selezione di data, orario, tavolo, numero persone e richieste speciali",
    "Gestione e visualizzazione del menu giornaliero suddiviso per categorie",
    "Dashboard amministratore con statistiche, KPI e visualizzazioni grafiche",
    "Gestione avanzata delle prenotazioni con filtri, stati e dettagli cliente",
    "Interfaccia di gestione menu con possibilità di creare, modificare e disattivare piatti",
    "Gestione utenti registrati con statistiche e dettagli",
    "Configurazione sistema per orari di apertura, capacità e giorni attivi",
    "Sicurezza con hashing password, validazione e protezione delle rotte admin",
    "API RESTful per tutte le operazioni di front e backend"
  ],
  "user_flow_summary": [
    "L'utente si registra o effettua il login tramite form autenticazione",
    "L'utente autenticato accede alla dashboard personale dove può visualizzare le prenotazioni attive e le statistiche",
    "L'utente seleziona data e orario disponibili per creare una nuova prenotazione e conferma i dettagli",
    "Gli amministratori accedono al pannello di controllo con statistiche generali e possono filtrare o modificare le prenotazioni",
    "Gli amministratori gestiscono il menu settimanale creando o aggiornando i piatti giorno per giorno",
    "Gli amministratori gestiscono gli utenti con visualizzazione delle informazioni e statistiche di utilizzo",
    "Gli utenti e amministratori possono modificare le proprie impostazioni e preferenze nel sistema"
  ],
  "validation_criteria": [
    "Tutte le funzionalità di autenticazione (registrazione, login, logout) sono testate e funzionanti",
    "Sistema di prenotazione completo e senza errori nel processo di selezione e conferma",
    "Dashboard utente e amministratore mostrano dati aggiornati e coerenti",
    "Le API REST rispondono correttamente e gestiscono correttamente errori e validazioni",
    "La sicurezza è garantita con hashing delle password e token JWT per autenticazione e autorizzazione",
    "Interfaccia utente responsive e testata su dispositivi mobili e desktop",
    "Test automatizzati coprono unit, integrazione ed end-to-end",
    "La build di produzione è stabile e il database si inizializza correttamente all'avvio"
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "Node.js",
      "Express.js",
      "React 18",
      "Vite",
      "PostgreSQL",
      "Supabase",
      "Tailwind CSS",
      "Zustand",
      "Recharts",
      "Lucide React",
      "JWT",
      "bcryptjs",
      "Nodemailer",
      "Resend",
      "node-cron",
      "Socket.io"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Complete authentication system with JWT tokens, login/register, password hashing, and session management",
        "files": [
          "client/src/pages/Login.jsx",
          "client/src/components/RegistrationSteps.jsx",
          "client/src/utils/store.js",
          "server/index.js"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main dashboard with real-time statistics, charts, attendance overview, and KPI tracking",
        "files": [
          "client/src/pages/Dashboard.jsx",
          "client/src/components/HolidaysCalendar.jsx"
        ]
      },
      {
        "name": "Employee Management",
        "description": "CRUD operations for employee management, profile editing, and employee approval system",
        "files": [
          "client/src/pages/Dipendenti.jsx",
          "client/src/pages/Profilo.jsx"
        ]
      },
      {
        "name": "Attendance System",
        "description": "Automatic attendance tracking without clock-in/out, based on work schedules and zero-balance hours system",
        "files": [
          "client/src/pages/Presenze.jsx",
          "client/src/pages/AdminAttendance.jsx"
        ]
      },
      {
        "name": "Leave Management",
        "description": "Complete leave request system for permissions, sick leave, vacation, and business trips with hours-based calculations",
        "files": [
          "client/src/pages/Permessi.jsx",
          "client/src/pages/Malattia.jsx",
          "client/src/pages/Ferie.jsx",
          "client/src/pages/Trasferte.jsx"
        ]
      },
      {
        "name": "Hours Balance System",
        "description": "Advanced hours-based system for tracking overtime, deficit, vacation hours, and work patterns",
        "files": [
          "client/src/pages/MonteOre.jsx",
          "client/src/pages/WorkPatterns.jsx"
        ]
      },
      {
        "name": "Email Notifications",
        "description": "Automated email system with templates, scheduling, and notifications for all HR events",
        "files": [
          "client/src/pages/EmailManagement.jsx",
          "server/emailService.js",
          "server/emailScheduler.js"
        ]
      },
      {
        "name": "Settings & Configuration",
        "description": "User settings, preferences, and system configuration management",
        "files": [
          "client/src/pages/Impostazioni.jsx",
          "client/src/pages/SettingsNew.jsx"
        ]
      },
      {
        "name": "Layout & Navigation",
        "description": "Main application layout with navigation, notifications, and responsive design",
        "files": [
          "client/src/components/Layout.jsx",
          "client/src/App.jsx"
        ]
      },
      {
        "name": "State Management",
        "description": "Zustand-based state management for authentication, user data, and application state",
        "files": [
          "client/src/utils/store.js"
        ]
      },
      {
        "name": "Backend API",
        "description": "Complete REST API with authentication, CRUD operations, email services, and business logic",
        "files": [
          "server/index.js",
          "server/emailService.js",
          "server/emailScheduler.js"
        ]
      },
      {
        "name": "Database Schema",
        "description": "PostgreSQL database with Supabase integration, including users, attendance, leave requests, work schedules, and hours balance",
        "files": [
          "database-no-clock-schema.sql",
          "scripts/apply-no-clock-changes.js"
        ]
      }
    ]
  }
}
